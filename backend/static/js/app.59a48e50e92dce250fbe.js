webpackJsonp([1],{"0uPr":function(t,e){},CM5y:function(t,e){},NHnr:function(t,e,n){"use strict";function a(t){n("ygsz")}function o(t){n("CM5y")}function s(t){n("W2IS")}function r(t){n("aEuB")}function i(t){n("0uPr")}function c(t){n("V0G7")}Object.defineProperty(e,"__esModule",{value:!0});var u=n("7+uW"),l=n("mtWM"),p=n.n(l),m={data:function(){return{accessToken:"pk.eyJ1Ijoic2hhdG5lciIsImEiOiJjamFkcWo1cGoxbng1MzdxbWJ1M2p1MDZzIn0.kXyKDLhGmdrsK4sHkY6Z5A",map:null,marker:null,coordinatesFromStart:{data:[]}}},mounted:function(){var t=this;[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]].forEach(function(e){t.coordinatesFromStart.data.push(e)}),this.buildMap()},methods:{buildMap:function(){var t=this,e={coordinates:[-122.486052,37.830348],testData:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[24.945831,60.192059]},properties:{title:"Mapbox",description:"Washington, D.C."}},{type:"Feature",geometry:{type:"Point",coordinates:[24.945,60.19206]},properties:{title:"Mapbox",description:"San Francisco, California"}}]}};mapboxgl.accessToken=this.accessToken,this.map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v9",center:e.coordinates,zoom:14}),console.log(this.coordinatesFromStart.data),this.map.on("load",function(){t.map.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.coordinatesFromStart.data}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"blue","line-width":8}})}),setTimeout(function(){t.coordinatesFromStart.data.push([-122.49532699584958,37.83368330777276])},1e3),this.buildMarkers(e.testData)},buildMarkers:function(t){var e=this;t.features.forEach(function(t){var n=document.createElement("div");n.className="marker",e.marker=new mapboxgl.Marker(n).setLngLat(t.geometry.coordinates).addTo(e.map)})},jumpToLocation:function(t){this.map.flyTo({center:t}),this.marker.setLngLat(t)}}},d=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"map"}})},h=[],v={render:d,staticRenderFns:h},f=v,_=n("VU/8"),g=a,C=_(m,f,!1,g,null,null),w=C.exports,y={name:"NextStopComponent",data:function(){return{msg:"Rautatientori, 2min"}}},b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NextStopComponent"},[n("p",[t._v("Next stop:")]),n("hr"),n("p"),t._v(" "),n("p",[t._v(t._s(t.msg))])])},x=[],M={render:b,staticRenderFns:x},F=M,k=n("VU/8"),E=o,S=k(y,F,!1,E,"data-v-06208ea3",null),T=S.exports,N=n("//Fk"),W=n.n(N),D={data:function(){return{speed:""}},mounted:function(){var t=this;this.getData().then(function(){console.log(t.speed)}),setInterval(function(){t.getData()},1e3)},methods:{getData:function(){var t=this;return new W.a(function(e,n){var a=void 0;p.a.get("/facts").then(function(n){console.log(o);var o=n.data;a=parseFloat(o.speed),t.speed=Math.round(a),e()}).catch(function(t){console.log(t),n()})})}}},I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"EnvironmentStatics"},[n("p",[t._v("Environmental facts:")]),t._v(" "),n("p",[t._v("Current speed: "+t._s(t.speed))])])])},V=[],L={render:I,staticRenderFns:V},R=L,B=n("VU/8"),$=s,j=B(D,R,!1,$,"data-v-488cddf2",null),O=j.exports,U={name:"OtherBusComponent",data:function(){return{msg:""}}},z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"OtherBusComponent"},[n("p",[t._v("Vaihtobussendaalenit")])])])}],P={render:z,staticRenderFns:G},H=P,J=n("VU/8"),A=r,K=J(U,H,!1,A,"data-v-a673c494",null),Z=K.exports,X={data:function(){return{message:"",hours:"",mins:"",iconNow:"",icon:"",weatherNow:"",weather:"",i1:"",i2:""}},mounted:function(){var t=this;this.test(),this.getTime(),this.getData().then(function(){t.i1=t.setIcon(t.iconNow),t.i2=t.setIcon(t.icon),console.log(t.i2)}),setInterval(function(){t.getTime()},1e3)},methods:{getTime:function(){var t=new Date,e=t.getHours(),n=t.getMinutes();this.hours=this.convertTime(e),this.mins=this.convertTime(n)},convertTime:function(t){return t<10?"0"+t:t},setIcon:function(t){var e=void 0;switch(t){case"Clouds":case"Rain":e="wb_cloudy";break;case"Clear":e="wb_sunny";break;case"Snow":e="wb_cloudy"}return e},test:function(){this.message="+3"},getData:function(){var t=this;return new W.a(function(e,n){var a=void 0;p.a.get("/weather").then(function(n){var o=n.data;a=parseFloat(o.currentWeather.temp),t.weatherNow=Math.round(a),a=parseFloat(o.nextWeather.temp),t.weather=Math.round(a),t.iconNow=o.currentWeather.weatherType,t.icon=o.nextWeather.weatherType,e()}).catch(function(t){console.log(t),n()})})}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-container card-panel weatherComponent"},[n("div",[n("h4",[t._v("Weather")]),t._v(" "),n("p",[n("i",{staticClass:"small material-icons"},[t._v("access_time")]),t._v(" "+t._s(t.hours)+":"+t._s(t.mins)+" :"),n("b",[t._v(" "+t._s(t.weatherNow)+"°C")]),t._v(" "),n("i",{staticClass:"small material-icons"},[t._v(t._s(t.i1))])]),t._v(" "),n("p",[n("i",{staticClass:"small material-icons"},[t._v("access_time")]),t._v(" "+t._s(t.hours+3)+":"+t._s(t.mins)+":"),n("b",[t._v(" "+t._s(t.weather)+"°C")]),t._v(" "),n("i",{staticClass:"small material-icons"},[t._v(t._s(t.i2))])])])])},q=[],Q={render:Y,staticRenderFns:q},tt=Q,et=n("VU/8"),nt=i,at=et(X,tt,!1,nt,null,null),ot=at.exports,st={name:"app",components:{MapComponent:w,EnvironmentStaticsComponent:O,NextStopComponent:T,OtherBusComponent:Z,WeatherComponent:ot}},rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"MapComponent"}},[n("MapComponent"),t._v(" "),n("WeatherComponent"),t._v(" "),n("div",{attrs:{id:"infoBox"}},[n("NextStopComponent"),t._v(" "),n("OtherBusComponent"),t._v(" "),n("EnvironmentStaticsComponent")],1)],1)},it=[],ct={render:rt,staticRenderFns:it},ut=ct,lt=n("VU/8"),pt=c,mt=lt(st,ut,!1,pt,null,null),dt=mt.exports;u.a.config.productionTip=!1,new u.a({el:"#app",template:"<App/>",components:{App:dt}})},V0G7:function(t,e){},W2IS:function(t,e){},aEuB:function(t,e){},ygsz:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.59a48e50e92dce250fbe.js.map